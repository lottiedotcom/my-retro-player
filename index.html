<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Y2K Playlist Maker</title>
    <link rel="manifest" href="manifest.json">
    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
    <style>
        :root {
            /* Default Theme: Winamp Blue */
            --main-bg: #c0c0c0;
            --title-bar: linear-gradient(90deg, #000080, #1084d0);
            --highlight: #000080;
            --text-main: #000;
            --viz-color: #00ff00;
        }

        body {
            background: #222;
            font-family: 'Tahoma', sans-serif;
            display: flex; flex-direction: column; align-items: center;
            padding: 20px; margin: 0;
            min-height: 100vh;
        }

        /* --- THE PLAYER SKIN --- */
        #player-skin {
            width: 95%; max-width: 380px;
            background: var(--main-bg);
            border: 2px solid #fff;
            border-right-color: #555; border-bottom-color: #555;
            padding: 4px;
            box-shadow: 10px 10px 0 rgba(0,0,0,0.5);
            position: relative;
        }

        /* Title Bar */
        .title-bar {
            background: var(--title-bar);
            height: 20px;
            display: flex; justify-content: space-between; align-items: center;
            padding: 0 4px;
            color: white; font-weight: bold; font-size: 11px;
            margin-bottom: 5px; cursor: default;
        }

        /* The "Black Screen" Area */
        .main-display {
            background: #000;
            padding: 8px;
            margin-bottom: 5px;
            border: 2px inset #888;
            display: flex; flex-direction: column; gap: 5px;
        }

        /* Editable Song Title */
        .song-info {
            color: #00ff00;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            white-space: nowrap;
            overflow: hidden;
            border-bottom: 1px dashed #333;
        }

        /* The Visualizer Bars */
        .visualizer {
            display: flex; align-items: flex-end; gap: 2px;
            height: 40px; border-bottom: 1px solid #333;
            padding-bottom: 2px;
        }
        .bar {
            flex: 1; background: var(--viz-color);
            animation: bounce 0.5s infinite alternate;
        }
        /* Randomize animation speeds for "fake" look */
        .bar:nth-child(1) { animation-duration: 0.4s; height: 40%; }
        .bar:nth-child(2) { animation-duration: 0.6s; height: 70%; }
        .bar:nth-child(3) { animation-duration: 0.3s; height: 50%; }
        .bar:nth-child(4) { animation-duration: 0.5s; height: 80%; }
        .bar:nth-child(5) { animation-duration: 0.4s; height: 60%; }
        .bar:nth-child(6) { animation-duration: 0.7s; height: 30%; }
        
        @keyframes bounce { 
            0% { opacity: 0.5; height: 10%; } 
            100% { opacity: 1; height: 100%; } 
        }

        /* Controls Row */
        .controls {
            display: flex; gap: 2px; margin-bottom: 5px;
        }
        .btn {
            background: #d4d0c8; border: 2px outset #fff;
            font-size: 10px; font-weight: bold; width: 100%;
            cursor: pointer; padding: 5px 0;
        }
        .btn:active { border: 2px inset #fff; }

        /* Playlist Window */
        .playlist-box {
            background: #fff;
            border: 2px inset #fff;
            height: 180px;
            overflow-y: hidden; /* Hide scrollbar for cleaner screenshot */
            font-size: 11px;
        }
        
        table { width: 100%; border-collapse: collapse; }
        th { background: var(--main-bg); text-align: left; padding: 2px; border-bottom: 1px solid #888; }
        td { padding: 3px; border-bottom: 1px solid #eee; cursor: text; }
        
        /* The "Selected" row look */
        .selected { background: var(--highlight); color: white; }

        /* --- EDITOR TOOLS (Won't show in photo) --- */
        #tools {
            margin-top: 30px; text-align: center; color: #888; width: 100%; max-width: 400px;
        }
        .theme-btn {
            width: 30px; height: 30px; border-radius: 50%; border: 2px solid #fff;
            display: inline-block; cursor: pointer; margin: 0 5px;
        }
        [contenteditable]:focus { outline: 2px solid hotpink; background: rgba(255,255,0,0.2); color: black;} 
        .selected [contenteditable]:focus { color: white; }
    </style>
</head>
<body>

<div id="player-skin">
    <div class="title-bar">
        <span>WinAmp 2003</span>
        <span>_ â–¡ X</span>
    </div>

    <div class="main-display">
        <div class="song-info" contenteditable="true">1. Britney Spears - Toxic (Y2K Remix)</div>
        
        <div class="visualizer">
            <div class="bar"></div><div class="bar"></div><div class="bar"></div>
            <div class="bar"></div><div class="bar"></div><div class="bar"></div>
            <div class="bar"></div><div class="bar"></div><div class="bar"></div>
            <div class="bar"></div><div class="bar"></div><div class="bar"></div>
        </div>

        <div style="display:flex; justify-content:space-between; color:#00ff00; font-family:monospace;">
            <span contenteditable="true">128kbps</span>
            <span contenteditable="true">03:42</span>
        </div>
    </div>

    <div class="controls">
        <button class="btn">PREV</button>
        <button class="btn">PLAY</button>
        <button class="btn">PAUSE</button>
        <button class="btn">STOP</button>
        <button class="btn">NEXT</button>
    </div>

    <div class="playlist-box">
        <table id="list-table">
            <thead>
                <tr><th width="20">#</th><th>Artist - Title</th><th width="30">Time</th></tr>
            </thead>
            <tbody>
                <tr class="selected">
                    <td contenteditable="true">1</td>
                    <td contenteditable="true">Britney Spears - Toxic</td>
                    <td contenteditable="true">3:18</td>
                </tr>
                <tr>
                    <td contenteditable="true">2</td>
                    <td contenteditable="true">Linkin Park - Numb</td>
                    <td contenteditable="true">3:07</td>
                </tr>
                <tr>
                    <td contenteditable="true">3</td>
                    <td contenteditable="true">Evanescence - Bring Me To Life</td>
                    <td contenteditable="true">3:55</td>
                </tr>
                <tr>
                    <td contenteditable="true">4</td>
                    <td contenteditable="true">Avril Lavigne - Sk8er Boi</td>
                    <td contenteditable="true">3:23</td>
                </tr>
                <tr>
                    <td contenteditable="true">5</td>
                    <td contenteditable="true">OutKast - Hey Ya!</td>
                    <td contenteditable="true">3:55</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<div id="tools">
    <p>ðŸŽ¨ PICK A SKIN:</p>
    <div class="theme-btn" style="background:#000080;" onclick="setTheme('blue')"></div>
    <div class="theme-btn" style="background:#ff69b4;" onclick="setTheme('pink')"></div>
    <div class="theme-btn" style="background:#444;" onclick="setTheme('silver')"></div>
    <br><br>
    <button onclick="addRow()" style="padding:10px;">âž• Add Row</button>
    <button onclick="takeSnap()" style="padding:10px; background: #00ff00; font-weight:bold;">ðŸ“· SAVE PHOTO</button>
    <p style="font-size: 12px; margin-top: 10px;">âœ¨ TIP: Click directly on the song names or times above to rewrite them!</p>
</div>

<script>
    function setTheme(color) {
        const root = document.documentElement;
        if (color === 'blue') {
            root.style.setProperty('--main-bg', '#c0c0c0');
            root.style.setProperty('--title-bar', 'linear-gradient(90deg, #000080, #1084d0)');
            root.style.setProperty('--highlight', '#000080');
            root.style.setProperty('--viz-color', '#00ff00');
        } else if (color === 'pink') {
            root.style.setProperty('--main-bg', '#ffe0f0');
            root.style.setProperty('--title-bar', 'linear-gradient(90deg, #ff1493, #ff69b4)');
            root.style.setProperty('--highlight', '#ff1493');
            root.style.setProperty('--viz-color', '#ff00ff');
        } else if (color === 'silver') {
            root.style.setProperty('--main-bg', '#dcdcdc');
            root.style.setProperty('--title-bar', 'linear-gradient(90deg, #444, #888)');
            root.style.setProperty('--highlight', '#555');
            root.style.setProperty('--viz-color', '#00ffff');
        }
    }

    function addRow() {
        const table = document.querySelector("#list-table tbody");
        const count = table.rows.length + 1;
        const row = `<tr>
            <td contenteditable="true">${count}</td>
            <td contenteditable="true">New Song...</td>
            <td contenteditable="true">0:00</td>
        </tr>`;
        table.innerHTML += row;
    }

    function takeSnap() {
        const element = document.getElementById('player-skin');
        html2canvas(element, { scale: 3, backgroundColor: null }).then(canvas => {
            let link = document.createElement("a");
            link.download = "y2k-playlist.png";
            link.href = canvas.toDataURL("image/png");
            link.click();
        });
    }
</script>

</body>
</html>

